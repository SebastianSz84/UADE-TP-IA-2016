
<div class="container">
   <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content" >
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Carrito</h4>
        </div>
        <div class="modal-body">
            <div class="table-responsive" ng-if="carrito.items.length > 0">
			  <table class="table">
			    <thead>
			      <tr>
			        <th>Nombre</th>
			        <th>Cantidad</th>
			        <th>Precio</th>
			        <th>SubTotal</th>
			        <th></th>
			      </tr>
			    </thead>
			    <tbody>
			      <tr  ng-repeat="(key, item) in carrito.items" >
			        <td>{{item.producto.nombre}}</td>
			        <td>{{item.cantidad}}</td>
			        <td>{{item.producto.precio}}</td>
			        <td>{{item.subTotal}}</td>
			        <td><span class="glyphicon glyphicon-remove" ng-click="removeItem(key)"></span></td>
			      </tr>
			    </tbody>
			  </table>
			</div>
			<div ng-if="carrito.items.length == 0" >
				No tiene elementos en el carrito.
			</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  
  <h2> {{ title }}</h2>

  
  <div class="row">
  <div class="col-xs-12 col-sm-6 col-lg-6">
  <label>Search: <input ng-model="searchProduct"></label>
  <button type="button" class="btn btn-warning" ng-click="getBestSellers()">
  		Ver Best Sellers
        </button>
  </div>
  <div class="col-xs-12 col-sm-6 col-lg-6"> 
  	  	<button type="button" class="btn btn-primary" data-target="#myModal" data-toggle="modal">
  			Ver Carrito
        </button>
        <button type="button" class="btn btn-info" ng-click="saveCarrito()">
       		Guardar Carrito
       	</button>
	    <button type="button" class="btn btn-danger" ng-click="confirmCarrito()">
	  		Confirmar Carrito
	   	</button>
          <button type="button" class="btn btn-danger" ng-click="logOut()">
            Salir
          </button>
  </div>
  </div>
<br>
  <div ng-show="successMessage" class="alert alert-success">
  <strong>Success!</strong> {{successMessage}}
</div>

<div ng-show="infoMessage" class="alert alert-info">
  <strong>Info!</strong> {{infoMessage}}
</div>

<div ng-show="alertMessage" class="alert alert-danger">
  <strong>Danger!</strong> {{alertMessage}}
</div>
  
  <br>
  <div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Descripcion</th>
        <th>Marca</th>
        <th>
        	<span style="cursor: pointer;" ng-click="sortBy('precio')" class="glyphicon glyphicon-sort"></span>
        	Precio</th>
        <th> 
        	<span style="cursor: pointer;"  ng-click="sortBy('categoria')" class="glyphicon glyphicon-sort"></span>
        	Categoria</th>
        <th>
        	<span style="cursor: pointer;"  ng-click="sortBy('fecha')" class="glyphicon glyphicon-sort"></span>
        	Fecha</th>
        <th>Cantidad</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr  ng-repeat="(key, item) in products| orderBy:propertyName:reverse | filter: searchProduct" >
        <td>{{item.nombre}}</td>
        <td>{{item.descripcion}}</td>
        <td>{{item.marca}}</td>
        <td>{{item.precio}}</td>
        <td>{{item.categoria.nombre}}</td>
        <td>NO TENGO FECHAS</td>
        <td>
			<select ng-model="quantity">
			  <option value="1">1</option>
			  <option value="2">2</option>
			  <option value="3">3</option>
			  <option value="4">4</option>
			  <option value="5">5</option>
			</select>
        </td>
        <td><button type="button" class="btn btn-success" ng-click="add(this)">Agregar
        </button>
        </td>
      </tr>
    </tbody>
  </table>
  </div>
</div>

